<div class="content-wrapper container-fluid p-0">
  <div class="content-body" *ngIf="ref; else elseBlock">
    <app-screen-header [icon]="'outline_widget'" [title]="'Dashboard'">
    </app-screen-header>

    <div class="row">
      <div class="col-6">
        <div
          class="d-flex flex-column align-items-start justify-content-center"
        >
          <div class="d-flex justify-content-start align-items-center">
            <span class="font-weight-bold font-large-1"
              >Top Performing Machine</span
            >
            <hr />
          </div>
        </div>
      </div>
      <div
        class="col-6 d-flex flex-column align-items-end justify-content-center"
      >
        <div
          class="d-flex justify-content-start align-items-stretch flex-column"
        >
          <!-- <span class="font-medium-4 font-weight-bold text-bold">Date : </span> -->
          <span class="font-medium-5 font-weight-bold text-center text-bold">{{
            ref.shiftDate
          }}</span>
        </div>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-12">
        <div class="card">
          <div class="row">
            <div class="col-lg-2 mt-2 mb-2">
              <div
                class="d-flex justify-content-start align-items-stretch flex-column"
              >
                <span class="font-weight-bolder text-center font-medium-2"
                  >MachineName</span
                >
                <span class="font-weight-extra-bold text-center font-large-2"
                  >{{ ref.machine }}
                </span>
              </div>
            </div>
            <div class="col-lg-2 mt-2 mb-2">
              <div
                class="d-flex justify-content-start align-items-stretch flex-column"
              >
                <span class="font-weight-bolder text-center font-medium-2"
                  >OEE%</span
                >
                <span
                  class="ont-weight-extra-bold text-info text-center font-large-2"
                  >{{ ref.oee | number : "0.00" }}
                </span>
              </div>
            </div>
            <div class="col-lg-2 mt-2 mb-2">
              <div
                class="d-flex justify-content-start align-items-stretch flex-column"
              >
                <span class="font-weight-bolder text-center font-medium-2"
                  >Total Production</span
                >
                <span
                  class="ont-weight-extra-bold text-info text-center font-large-2"
                  >{{ ref.production }}</span
                >
              </div>
            </div>
            <div class="col-lg-2 mt-2 mb-2">
              <div
                class="d-flex justify-content-start align-items-stretch flex-column"
              >
                <span class="font-weight-bolder text-center font-medium-2"
                  >Total Breakdown Time</span
                >
                <span
                  class="ont-weight-extra-bold text-danger text-center font-large-2"
                  >{{ ref.downtime }} min</span
                >
              </div>
            </div>
            <div class="col-lg-2 mt-2 mb-2">
              <div
                class="d-flex justify-content-start align-items-stretch flex-column"
              >
                <span class="font-weight-bolder text-center font-medium-2"
                  >Total Rejection</span
                >
                <span
                  class="ont-weight-extra-bold text-danger text-center font-large-2"
                  >{{ ref.rejection }}</span
                >
              </div>
            </div>
            <div class="col-lg-2 mt-2 mb-2">
              <div
                class="d-flex justify-content-start align-items-stretch flex-column"
              >
                <span class="font-weight-bolder text-center font-medium-2"
                  >Utilization Loss</span
                >
                <span
                  class="font-weight-extra-bold text-danger text-center font-large-2"
                  >{{ ref.utilizationLoss }}</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <div class="row">
          <div
            class="col-12 d-flex flex-column align-items-start justify-content-center"
          >
            <div
              class="d-flex justify-content-start align-items-stretch flex-column"
            >
              <span class="font-weight-bold font-medium-5"
                >Last Five Entries</span
              >
            </div>
          </div>
          <div class="col-lg-12">
            <app-table-builder
              [data]="lastfivedata"
              [headers]="lastfiveentriesheaders"
              [mode]="'data'"
              [disableAllActions]="true"
              [search]="false"
            ></app-table-builder>
          </div>
        </div>
      </div>

      <div class="col-6">
        <div class="row">
          <div
            class="col-12 d-flex flex-column align-items-start justify-content-center"
          >
            <div
              class="d-flex justify-content-start align-items-stretch flex-column"
            >
              <span class="font-weight-bold font-medium-5">Staged Entries</span>
            </div>
          </div>
          <div class="col-lg-12">
            <app-table-builder
              [data]="stageddata"
              [headers]="stagedentriesheaders"
              [mode]="'data'"
              [disableAllActions]="true"
              [search]="false"
            ></app-table-builder>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #elseBlock>
    <app-screen-header [icon]="'outline_widget'" [title]="'Dashboard'">
    </app-screen-header>
    <div class="row">
      <div class="col-12 d-flex justify-content-between align-items-center mb-3">
        <div class="">
          <span class="font-large-4 font-weight-extra-bold text-center text-bold">Hi</span>
          <span class="font-large-2 font-weight-extra-bold ml-1 mb-2">{{currentUser.firstName}},</span>
        </div>
        <div>
          <span  class="font-medium-4 font-weight-bold ">{{currentDate}}</span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-12 d-flex flex-column align-items-center justify-content-center">
                <img src="../../../../../../assets/images/illustration/stats.png" alt="" id="operator-dashboard-img">
                <p
                  class="font-large-2 font-weight-extra-bold text-center text-bold mt-3"
                >
                  Start building your dashboard
                </p>
                <p
                  class="font-medium-4 font-weight-extra-bold text-center text-bold mt-3 text-info "
                >
                  Before we can show anything, we'll first need to get some data in here.
                </p>
                <div class="mt-3">
                  <button class="btn btn-primary mb-2" (click)="addNewEntry()">
                    Add New Entry
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>
