<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  Future Algorithms Private Limited
  Copyright 2022 Future Algorithms Private Limited.
  Unauthorized copying of any files, via any medium is strictly prohibited.
  All Rights Reserved.
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<!-- Vertical Menu -->
<ng-container *ngIf="layout === 'vertical'">
  <ng-container *ngFor="let item of menu">
    <!-- section -->
    <li core-menu-vertical-section
        *ngIf="item.type == 'section' && (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)"
        [item]="item" class="navigation-header" core-menu-vertical-section></li>

    <!-- sub-menu item/collapsible of sections  -->
    <ng-container *ngIf="item.type == 'section'">
      <ng-container *ngFor="let item of item.children">
        <!-- item | if openInNewTab set routerLink & routerLinkActive blank -->
        <li core-menu-vertical-item *ngIf="item.type == 'item' && (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)"
            [item]="item" [ngClass]="{ disabled: item.disabled === true }"
            [routerLinkActiveOptions]="{ exact: item.exactMatch || false }"
            [routerLinkActive]="!item.openInNewTab ? 'active' : ''" core-menu-vertical-item>
          <span [routerLink]="item.openInNewTab ? [] : [item.url]" class="d-none"></span>
        </li>
        <!-- collapsible -->
        <li core-menu-vertical-collapsible
            *ngIf="item.type == 'collapsible' &&
            (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)"
            [item]="item" class="nav-item has-sub" core-menu-vertical-collapsible></li>
      </ng-container>
    </ng-container>

    <!-- item -->
    <li core-menu-vertical-item
        *ngIf="item.type == 'item' && (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)"
        [item]="item" [ngClass]="{ disabled: item.disabled === true }" [routerLinkActiveOptions]="{ exact: item.exactMatch || false }"
        [routerLinkActive]="!item.openInNewTab ? 'active' : ''" core-menu-vertical-item>
      <span [routerLink]="item.openInNewTab ? [] : [item.url]" class="d-none"></span>
    </li>
    <!-- collapsible -->
    <li core-menu-vertical-collapsible *ngIf="item.type == 'collapsible' &&
        (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)" [item]="item" class="nav-item has-sub" core-menu-vertical-collapsible></li>
  </ng-container>
</ng-container>
<!--/ Vertical Menu -->

<!-- Horizontal Menu -->
<ng-container *ngIf="layout === 'horizontal' && currentUser">
  <ng-container *ngFor="let item of menu">
    <!-- section -->
    <li
            core-menu-horizontal-collapsible
            *ngIf="
        item.type == 'section' && (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)
      "
            [item]="item"
            class="dropdown nav-item"
    ></li>

    <!-- item | if openInNewTab set routerLink & routerLinkActive blank -->
    <li
            core-menu-horizontal-item
            *ngIf="
        item.type == 'item' && (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)
      "
            [item]="item"
            [ngClass]="{ disabled: item.disabled === true }"
            [routerLinkActive]="!item.openInNewTab ? 'active' : ''"
            [routerLinkActiveOptions]="{ exact: item.exactMatch || false }"
    >
      <span [routerLink]="item.openInNewTab ? [] : [item.url]" class="d-none"></span>
    </li>

    <!-- collapsible -->
    <li
            core-menu-horizontal-collapsible
            *ngIf="
        item.type == 'collapsible' &&
        (item.role ? item.role.includes(currentUser && currentUser.role ? currentUser.role : '') : false || item.role == undefined)
      "
            [item]="item"
            class="dropdown dropdown-submenu"
    ></li>
  </ng-container>
</ng-container>
<!--/ Horizontal Menu -->
